# 智能一卡通应用设计

李则言 吕鑫 卫翔宇

------

## 一、实验背景

​	IC卡 (Integrated Circuit Card，集成电路卡)所具有的信息安全、便于携带、标准化等优点，正使其在身份认证、银行、电信、公共交通、车场管理等领域得到越来越多的应用。而MIFARE 卡则是目前世界上使用量最大、技术最成熟、性能最稳定、内存容量最大的一种感应式智能IC卡。其采用射频无线通讯，除了保留接触式IC卡的原有优点外，还具有操作简单快捷、抗干扰能力强、可靠性高、适合一卡多用等优点。基于MIFARE卡强大的可扩展性，我们可以方便地利用它来设计实现安全可靠、功能强大的校园一卡通应用方案。

## 二、问题分析

​	校园一卡通系统的构建大致可以分为三个部分，读取卡片信息的读卡器（Arduino）、负责与用户交互的终端设备（桌面端应用）和负责存储信息和进行各种查询的网络后台（Django实现）。为了保证整个系统的安全性运行，我们需要确保一下五个方面的安全。

#### 1.M1卡

​	1.更改M1卡的A密钥与B密钥，不使用默认的0xFFFFFFFFFFFFh密钥，从而使网上流传的读写M1卡内容的代码无法直接读到卡内重要信息。

​	2.在校园卡中仅保存最后5条消费储值记录，并不直接保存校园卡余额。

#### 2.桌面终端

​	1.桌面终端本身运行在封装好的硬件设备中，难以在运行时查看内存中的机密信息。

​	2.在外存中保存的access log等信息使用AES加密和随机的无意义密钥。

#### 3.网络后台

​	1.使用比较成熟的Django REST framework框架来进行后台的搭建，最大程度的避免了后台被攻击的可能。

​	2.各种终端的认证采用token认证，这样不对密码进行明文传输，保证了密码的安全。

#### 4.终端与后台的交互

​	1.网络后台采用https协议，这样在与终端的交互中最大程度的保证了网络传输过程中信息的安全性。

#### 5.终端与M1卡的交互

​	1.小钱包中的余额信息使用AES加密传输与存储。

## 三、系统设计

​	如问题分析中所说，整个校园一卡通系统分为3个部分，下面会分别讲述每个部分的具体设计

#### 1.Arduino读卡器

#### 2.桌面终端

#### 3.网络后台

## 四、系统评测

## 五、分析与讨论



